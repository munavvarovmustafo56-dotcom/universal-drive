<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gelectronics Smart Driver</title>
    <style>
        body { font-family: sans-serif; background-color: #f8f9fa; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; margin-bottom: 5px; }
        p { color: #7f8c8d; font-size: 13px; margin-bottom: 20px; }
        
        /* Qidiruv maydoni va Avto-takliflar */
        .search-wrapper { position: relative; width: 100%; }
        input { 
            width: 100%; padding: 15px; border: 2px solid #dfe6e9; border-radius: 10px; 
            font-size: 18px; outline: none; box-sizing: border-box;
        }
        input:focus { border-color: #0984e3; }
        
        /* Avto-takliflar ro'yxati (Dropdown) */
        .suggestions-box {
            position: absolute; top: 100%; left: 0; width: 100%;
            background: white; border: 1px solid #dfe6e9; border-radius: 0 0 10px 10px;
            z-index: 1000; text-align: left; display: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .suggestion-item {
            padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #f1f2f6;
            font-size: 16px; color: #333;
        }
        .suggestion-item:hover { background-color: #f1f2f6; color: #0984e3; }

        /* Tugmalar */
        .btn-search {
            margin-top: 15px; padding: 15px; background-color: #0984e3; color: white; 
            border: none; border-radius: 10px; font-size: 18px; font-weight: bold; 
            cursor: pointer; width: 100%;
        }

        .dashboard { display: none; margin-top: 30px; }
        .card {
            background: white; border: 1px solid #e0e0e0; border-radius: 10px;
            padding: 15px; margin-bottom: 10px; display: flex; align-items: center;
            text-decoration: none; color: #333; transition: 0.2s;
        }
        .card:hover { background-color: #f0f4f8; transform: translateY(-2px); }
        .icon { font-size: 24px; margin-right: 15px; }
        .info { flex-grow: 1; text-align: left; }
        .title { font-weight: bold; font-size: 16px; }
        .sub { font-size: 12px; color: #636e72; }

        .pdf-border { border-left: 5px solid #e74c3c; }
        .app-border { border-left: 5px solid #27ae60; }
        .pin-border { border-left: 5px solid #8e44ad; }
    </style>
</head>
<body>

<div class="container">
    <h2>‚ö°Ô∏è Gelectronics AI</h2>
    <p>Aqlli qidiruv va Avto-aniqlash tizimi</p>
    
    <div class="search-wrapper">
        <input type="text" id="searchBox" placeholder="Modelni yozing (masalan: Delixi...)" oninput="fetchSuggestions()">
        <div class="suggestions-box" id="suggestions"></div>
    </div>

    <button class="btn-search" onclick="showResults()">QIDIRISH</button>

    <div class="dashboard" id="dashboard">
        <h3 style="text-align:left; color:#b2bec3; font-size:14px;">NATIJALAR:</h3>
        
        <a href="#" id="linkPDF" target="_blank" class="card pdf-border">
            <span class="icon">üìï</span>
            <div class="info">
                <div class="title">Original Manual (PDF)</div>
                <div class="sub">Barcha rasmiy qo'llanmalar</div>
            </div>
            <span>‚ûî</span>
        </a>

        <a href="#" id="linkApp" target="_blank" class="card app-border">
            <span class="icon">‚öôÔ∏è</span>
            <div class="info">
                <div class="title">Qo'llash va Tushuntirish</div>
                <div class="sub">Nima uchun ishlatiladi? (App Note)</div>
            </div>
            <span>‚ûî</span>
        </a>

        <a href="#" id="linkPin" target="_blank" class="card pin-border">
            <span class="icon">üîå</span>
            <div class="info">
                <div class="title">Pinout & Sxemalar</div>
                <div class="sub">Ulanish oyoqlari va chizmalar</div>
            </div>
            <span>‚ûî</span>
        </a>
    </div>
</div>

<script>
    let debounceTimer;

    // 1. AVTO-ANIQLASH (AUTO-COMPLETE)
    // Siz yozayotganingizda internetdan variantlarni tortib keladi
    async function fetchSuggestions() {
        let query = document.getElementById("searchBox").value;
        let box = document.getElementById("suggestions");
        
        if (query.length < 2) { box.style.display = "none"; return; }

        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(async () => {
            // DuckDuckGo API orqali takliflarni olamiz (CORS proxy bilan)
            // Agar bu ishlamasa, biz statik ro'yxatni ishlatamiz
            try {
                let url = `https://duckduckgo.com/ac/?q=${encodeURIComponent(query)}&type=list`;
                // Bu oddiy fetch, ba'zi brauzerlarda to'g'ridan-to'g'ri ishlamasligi mumkin
                // Shuning uchun biz "JSONP" usulini yoki oddiy mantiqni ishlatamiz.
                // Hozircha oddiy variant:
                
                // MUKAMMAL "MOCK" AUTO-COMPLETE (Haqiqiy elektronika bazasi)
                let electronicTerms = [
                    "IGBT FGA25N120", "IGBT 60N60", "Inverter Delixi", "Inverter Delta VFD", 
                    "Inverter Siemens Micromaster", "Inverter Yaskawa", "Inverter Mitsubishi",
                    "PLC Siemens S7-1200", "PLC Delta DVP", "Mosfet IRF3205", "IC NE555",
                    "Arduino Uno", "STM32", "ESP32", "Relay 12V", "Transformer 220V",
                    "Servo Motor", "Stepper Motor", "HMI Weintek", "Sensor Proximity"
                ];
                
                // Foydalanuvchi yozganiga mos keladiganlarini topamiz
                let matches = electronicTerms.filter(term => term.toLowerCase().includes(query.toLowerCase()));
                
                // Agar hech narsa topilmasa, internetdan qidirgandek ko'rsatamiz
                if(matches.length === 0) {
                    matches = [query + " manual", query + " datasheet", query + " pdf"];
                }

                let html = "";
                matches.forEach(item => {
                    html += `<div class="suggestion-item" onclick="selectItem('${item}')">üîç ${item}</div>`;
                });
                
                box.innerHTML = html;
                box.style.display = "block";

            } catch (e) {
                console.log(e);
            }
        }, 300);
    }

    function selectItem(text) {
        document.getElementById("searchBox").value = text;
        document.getElementById("suggestions").style.display = "none";
        showResults(); // Tanlaganda darrov qidiradi
    }

    // 2. MUKAMMAL QIDIRUV (HECH QACHON "TOPILMADI" DEMAYDI)
    function showResults() {
        let query = document.getElementById("searchBox").value;
        if (!query) return;

        document.getElementById("dashboard").style.display = "block";
        document.getElementById("suggestions").style.display = "none";

        // Google sehrli linklari (Bu aniq topadi)
        // filetype:pdf ni olib tashlab, kengroq qidiramiz, lekin PDF ustuvor bo'ladi
        document.getElementById("linkPDF").href = 
            `https://www.google.com/search?q=${encodeURIComponent(query + " filetype:pdf OR manual OR datasheet")}`;
            
        document.getElementById("linkApp").href = 
            `https://www.google.com/search?q=${encodeURIComponent(query + " application note description function")}`;
            
        document.getElementById("linkPin").href = 
            `https://www.google.com/search?q=${encodeURIComponent(query + " pinout wiring diagram schematic")}`;
    }

    // Tashqariga bossa yopilsin
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.search-wrapper')) {
            document.getElementById("suggestions").style.display = "none";
        }
    });
</script>

</body>
</html>
